(function(c,a){if(typeof define==="function"&&define.amd){define([],a)}else{if(typeof exports!=="undefined"){a()}else{var b={exports:{}};a();c.bootstrapTableAutoRefresh=b.exports}}})(this,function(){(function(e){e.extend(e.fn.bootstrapTable.defaults,{autoRefresh:false,autoRefreshInterval:60,autoRefreshSilent:true,autoRefreshStatus:true,autoRefreshFunction:null});e.extend(e.fn.bootstrapTable.defaults.icons,{autoRefresh:"glyphicon-time icon-time"});e.extend(e.fn.bootstrapTable.locales,{formatAutoRefresh:function c(){return"Auto Refresh"}});e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var a=e.fn.bootstrapTable.Constructor;var d=a.prototype.init;var b=a.prototype.initToolbar;var f=e.fn.bootstrapTable.utils.sprintf;a.prototype.init=function(){d.apply(this,Array.prototype.slice.apply(arguments));if(this.options.autoRefresh&&this.options.autoRefreshStatus){var g=this;this.options.autoRefreshFunction=setInterval(function(){g.refresh({silent:g.options.autoRefreshSilent})},this.options.autoRefreshInterval*1000)}};a.prototype.initToolbar=function(){b.apply(this,Array.prototype.slice.apply(arguments));if(this.options.autoRefresh){var g=this.$toolbar.find(">.btn-group");var h=g.find(".auto-refresh");if(!h.length){h=e([f('<button class="btn btn-default auto-refresh %s" ',this.options.autoRefreshStatus?"enabled":""),'type="button" ',f('title="%s">',this.options.formatAutoRefresh()),f('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.autoRefresh),"</button>"].join("")).appendTo(g);h.on("click",e.proxy(this.toggleAutoRefresh,this))}}};a.prototype.toggleAutoRefresh=function(){if(this.options.autoRefresh){if(this.options.autoRefreshStatus){clearInterval(this.options.autoRefreshFunction);this.$toolbar.find(">.btn-group").find(".auto-refresh").removeClass("enabled")}else{var g=this;this.options.autoRefreshFunction=setInterval(function(){g.refresh({silent:g.options.autoRefreshSilent})},this.options.autoRefreshInterval*1000);this.$toolbar.find(">.btn-group").find(".auto-refresh").addClass("enabled")}this.options.autoRefreshStatus=!this.options.autoRefreshStatus}}})(jQuery)});