(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a(require("popper.js")):typeof define==="function"&&define.amd?define(["popper.js"],a):(b.Tooltip=a(b.Popper))}(this,(function(b){b=b&&b.hasOwnProperty("default")?b["default"]:b;function h(i){var j={};return i&&j.toString.call(i)==="[object Function]"}var g=function(i,j){if(!(i instanceof j)){throw new TypeError("Cannot call a class as a function")}};var f=function(){function i(m,k){for(var j=0;j<k.length;j++){var l=k[j];l.enumerable=l.enumerable||false;l.configurable=true;if("value" in l){l.writable=true}Object.defineProperty(m,l.key,l)}}return function(l,j,k){if(j){i(l.prototype,j)}if(k){i(l,k)}return l}}();var c=Object.assign||function(m){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var j in l){if(Object.prototype.hasOwnProperty.call(l,j)){m[j]=l[j]}}}return m};var e={container:false,delay:0,html:false,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"};var d=function(){function r(v,w){g(this,r);a.call(this);w=c({},e,w);v.jquery&&(v=v[0]);this.reference=v;this.options=w;var x=typeof w.trigger==="string"?w.trigger.split(" ").filter(function(y){return["click","hover","focus"].indexOf(y)!==-1}):[];this._isOpen=false;this._popperOptions={};this._setEventListeners(v,x,w)}f(r,[{key:"_create",value:function t(v,x,B,w){var z=window.document.createElement("div");z.innerHTML=x.trim();var y=z.childNodes[0];y.id="tooltip_"+Math.random().toString(36).substr(2,10);y.setAttribute("aria-hidden","false");var A=z.querySelector(this.options.innerSelector);this._addTitleContent(v,B,w,A);return y}},{key:"_addTitleContent",value:function u(v,z,x,y){if(z.nodeType===1||z.nodeType===11){x&&y.appendChild(z)}else{if(h(z)){var w=z.call(v);x?y.innerHTML=w:y.textContent=w}else{x?y.innerHTML=z:y.textContent=z}}}},{key:"_show",value:function p(v,x){if(this._isOpen&&!this._isOpening){return this}this._isOpen=true;if(this._tooltipNode){this._tooltipNode.style.visibility="visible";this._tooltipNode.setAttribute("aria-hidden","false");this.popperInstance.update();return this}var z=v.getAttribute("title")||x.title;if(!z){return this}var y=this._create(v,x.template,z,x.html);v.setAttribute("aria-describedby",y.id);var w=this._findContainer(x.container,v);this._append(y,w);this._popperOptions=c({},x.popperOptions,{placement:x.placement});this._popperOptions.modifiers=c({},this._popperOptions.modifiers,{arrow:{element:this.options.arrowSelector},offset:{offset:x.offset}});if(x.boundariesElement){this._popperOptions.modifiers.preventOverflow={boundariesElement:x.boundariesElement}}this.popperInstance=new b(v,y,this._popperOptions);this._tooltipNode=y;return this}},{key:"_hide",value:function l(){if(!this._isOpen){return this}this._isOpen=false;this._tooltipNode.style.visibility="hidden";this._tooltipNode.setAttribute("aria-hidden","true");return this}},{key:"_dispose",value:function s(){var v=this;this._events.forEach(function(y){var x=y.func,w=y.event;v.reference.removeEventListener(w,x)});this._events=[];if(this._tooltipNode){this._hide();this.popperInstance.destroy();if(!this.popperInstance.options.removeOnDestroy){this._tooltipNode.parentNode.removeChild(this._tooltipNode);this._tooltipNode=null}}return this}},{key:"_findContainer",value:function k(w,v){if(typeof w==="string"){w=window.document.querySelector(w)}else{if(w===false){w=v.parentNode}}return w}},{key:"_append",value:function q(w,v){v.appendChild(w)}},{key:"_setEventListeners",value:function o(v,x,w){var z=this;var A=[];var y=[];x.forEach(function(B){switch(B){case"hover":A.push("mouseenter");y.push("mouseleave");break;case"focus":A.push("focus");y.push("blur");break;case"click":A.push("click");y.push("click");break}});A.forEach(function(C){var B=function B(D){if(z._isOpening===true){return}D.usedByTooltip=true;z._scheduleShow(v,w.delay,w,D)};z._events.push({event:C,func:B});v.addEventListener(C,B)});y.forEach(function(C){var B=function B(D){if(D.usedByTooltip===true){return}z._scheduleHide(v,w.delay,w,D)};z._events.push({event:C,func:B});v.addEventListener(C,B);if(C==="click"&&w.closeOnClickOutside){document.addEventListener("mousedown",function(E){if(!z._isOpening){return}var D=z.popperInstance.popper;if(v.contains(E.target)||D.contains(E.target)){return}B(E)},true)}})}},{key:"_scheduleShow",value:function n(w,y,x){var z=this;this._isOpening=true;var v=y&&y.show||y||0;this._showTimeout=window.setTimeout(function(){return z._show(w,x)},v)}},{key:"_scheduleHide",value:function i(w,z,y,x){var A=this;this._isOpening=false;var v=z&&z.hide||z||0;window.setTimeout(function(){window.clearTimeout(A._showTimeout);if(A._isOpen===false){return}if(!document.body.contains(A._tooltipNode)){return}if(x.type==="mouseleave"){var B=A._setTooltipNodeEvent(x,w,z,y);if(B){return}}A._hide(w,y)},v)}},{key:"_updateTitleContent",value:function m(w){if(typeof this._tooltipNode==="undefined"){if(typeof this.options.title!=="undefined"){this.options.title=w}return}var v=this._tooltipNode.parentNode.querySelector(this.options.innerSelector);this._clearTitleContent(v,this.options.html,this.reference.getAttribute("title")||this.options.title);this._addTitleContent(this.reference,w,this.options.html,v);this.options.title=w;this.popperInstance.update()}},{key:"_clearTitleContent",value:function j(x,v,w){if(w.nodeType===1||w.nodeType===11){v&&x.removeChild(w)}else{v?x.innerHTML="":x.textContent=""}}}]);return r}();var a=function a(){var i=this;this.show=function(){return i._show(i.reference,i.options)};this.hide=function(){return i._hide()};this.dispose=function(){return i._dispose()};this.toggle=function(){if(i._isOpen){return i.hide()}else{return i.show()}};this.updateTitleContent=function(j){return i._updateTitleContent(j)};this._events=[];this._setTooltipNodeEvent=function(k,j,m,l){var o=k.relatedreference||k.toElement||k.relatedTarget;var n=function n(p){var q=p.relatedreference||p.toElement||p.relatedTarget;i._tooltipNode.removeEventListener(k.type,n);if(!j.contains(q)){i._scheduleHide(j,l.delay,l,p)}};if(i._tooltipNode.contains(o)){i._tooltipNode.addEventListener(k.type,n);return true}return false}};return d})));