(function(c,a){if(typeof define==="function"&&define.amd){define([],a)}else{if(typeof exports!=="undefined"){a()}else{var b={exports:{}};a();c.bootstrapTableReorderColumns=b.exports}}})(this,function(){!function(d){var f=function f(){if(!Array.prototype.filter){Array.prototype.filter=function(l){if(this===void 0||this===null){throw new TypeError()}var o=Object(this);var j=o.length>>>0;if(typeof l!=="function"){throw new TypeError()}var n=[];var k=arguments.length>=2?arguments[1]:void 0;for(var m=0;m<j;m++){if(m in o){var p=o[m];if(l.call(k,p,m,o)){n.push(p)}}}return n}}};d.extend(d.fn.bootstrapTable.defaults,{reorderableColumns:false,maxMovingRows:10,onReorderColumn:function h(i){return false},dragaccept:null});d.extend(d.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":"onReorderColumn"});var a=d.fn.bootstrapTable.Constructor,c=a.prototype.initHeader,g=a.prototype.toggleColumn,e=a.prototype.toggleView,b=a.prototype.resetView;a.prototype.initHeader=function(){c.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.toggleColumn=function(){g.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.toggleView=function(){e.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}if(this.options.cardView){return}this.makeRowsReorderable()};a.prototype.resetView=function(){b.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.makeRowsReorderable=function(){var j=this;try{d(this.$el).dragtable("destroy")}catch(k){}d(this.$el).dragtable({maxMovingRows:j.options.maxMovingRows,dragaccept:j.options.dragaccept,clickDelay:200,beforeStop:function i(){var m=[],n=[],p=[],l=[],q=-1,r=[];j.$header.find("th").each(function(s){m.push(d(this).data("field"));n.push(d(this).data("formatter"))});if(m.length<j.columns.length){l=d.grep(j.columns,function(s){return !s.visible});for(var o=0;o<l.length;o++){m.push(l[o].field);n.push(l[o].formatter)}}for(var o=0;o<this.length;o++){q=j.fieldsColumnsIndex[m[o]];if(q!==-1){j.columns[q].fieldIndex=o;p.push(j.columns[q]);j.columns.splice(q,1)}}j.columns=j.columns.concat(p);f();d.each(j.columns,function(s,t){var u=false,v=t.field;j.options.columns[0].filter(function(w){if(!u&&w.field==v){r.push(w);u=true;return false}else{return true}})});j.options.columns[0]=r;j.header.fields=m;j.header.formatters=n;j.initHeader();j.initToolbar();j.initBody();j.resetView();j.trigger("reorder-column",m)}})}}(jQuery)});